import{_ as e,c as a,o as t,U as o}from"./chunks/framework.VPeeT0jm.js";const m=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"aikopanel/migrate/v2board-v1.7.3.md","filePath":"aikopanel/migrate/v2board-v1.7.3.md"}'),i={name:"aikopanel/migrate/v2board-v1.7.3.md"},l=o('<h2 id="guide-to-migrate-v2board-version-1-7-3" tabindex="-1">Guide to Migrate V2board Version 1.7.3 <a class="header-anchor" href="#guide-to-migrate-v2board-version-1-7-3" aria-label="Permalink to &quot;Guide to Migrate V2board Version 1.7.3&quot;">​</a></h2><h3 id="the-migration-scenario-will-make-the-following-changes-to-your-database" tabindex="-1">The migration scenario will make the following changes to your database <a class="header-anchor" href="#the-migration-scenario-will-make-the-following-changes-to-your-database" aria-label="Permalink to &quot;The migration scenario will make the following changes to your database&quot;">​</a></h3><ul><li><p>Rename the v2_stat_order table to v2_stat</p><ul><li>Change the <code>order_amount</code> field to <code>order_total</code></li><li>Change the <code>commission_amount</code> field to <code>commission_total</code></li><li>Add a field <code>paid_count</code> of type integer that can be null</li><li>Add a field <code>paid_total</code> of type integer that can be null</li><li>Add a field <code>register_count</code> of type integer that can be null</li><li>Add a field <code>invite_count</code> of type integer that can be null</li><li>Add a field <code>transfer_used_total</code> of type string with a length of 32 that can be null</li></ul></li><li><p>Add a table v2_log</p></li><li><p>Add a table v2_server_hysteria</p></li><li><p>Add a table v2_server_vless</p></li></ul><h2 id="aapanel-environment" tabindex="-1">aapanel Environment <a class="header-anchor" href="#aapanel-environment" aria-label="Permalink to &quot;aapanel Environment&quot;">​</a></h2><ol><li>Clean up the database entirely</li></ol><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>php artisan db:wipe</span></span></code></pre></div><ol start="2"><li>Import the old database <span style="color:red;">(Important)</span></li></ol><blockquote><p>Import the V2board 1.7.3 database into the current Aiko project</p></blockquote><ol start="3"><li>Execute the migration command</li></ol><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>php artisan migratetoaikopanel v2b1.7.3</span></span></code></pre></div><ol start="4"><li>Change the configuration file (v2board.php)</li></ol><blockquote><p>You need to rename the file <code>config/v2board.php</code> to <code>config/aikopanel.php</code>, which means renaming v2board.php to aikopanel.php and in the admin user, enter the key as &quot;done.&quot;</p></blockquote>',12),n=[l];function d(r,s,c,p,h,u){return t(),a("div",null,n)}const b=e(i,[["render",d]]);export{m as __pageData,b as default};
